import{r as s,a as i,F as h,j as t,h as o,i as m,k as y}from"./index-fccf709f.js";import{P as b}from"./PageTitle-6ca76f36.js";import{h as p}from"./index.esm-70791ec5.js";import"./iconBase-80ff018a.js";const x=()=>{const[l,d]=s.useState([]),r=()=>o().then(e=>d(e));s.useEffect(()=>{r().then()},[]);const n=e=>{e.id&&m(e.id).then(r)},a=()=>{y().then(()=>{alert("История очищена!"),r().then()})};return i(h,{children:[t(b,{title:"История просмотров"}),t("div",{className:"table-responsive",children:i("table",{className:"table table-bordered table-striped mt-4",children:[t("thead",{children:i("tr",{children:[t("th",{style:{width:180},children:"Дата"}),t("th",{style:{width:180},children:"IP"}),t("th",{style:{width:180},children:"Страна"}),t("th",{style:{width:180},children:"Город"}),t("th",{style:{width:"auto"},children:"URL"}),t("th",{style:{width:60}})]})}),t("tbody",{children:l.map((e,c)=>i("tr",{children:[t("td",{children:e.dateTime.toLocaleString()}),t("td",{children:e.geo.ip}),t("td",{children:e.geo.country_name}),t("td",{children:e.geo.city}),t("td",{children:e.path}),t("td",{children:t("button",{className:"btn btn-danger",onClick:()=>n(e),children:t(p,{})})})]},c))})]})}),t("button",{className:"btn btn-primary",onClick:a,children:"Очистить"})]})};export{x as default};
