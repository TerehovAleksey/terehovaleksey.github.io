import{r as i,o as v,a,F as m,j as e,p as b,q as x}from"./index-fccf709f.js";import{P as f}from"./PageTitle-6ca76f36.js";import{G as y}from"./iconBase-80ff018a.js";import{C,F as V}from"./FloatingInputText-650b6dbc.js";import{u as F,F as w}from"./FloatingInputArea-2f6e4000.js";function k(l){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h3v3.767L13.277 18H20c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm0 14h-7.277L9 18.233V16H4V4h16v12z"}},{tag:"path",attr:{d:"M11 14h2v-3h3V9h-3V6h-2v3H8v2h3z"}}]})(l)}const u={id:"",body:"",title:""},P=()=>{const[l,h]=i.useState([]),[s,c]=i.useState(u),[n,p]=i.useState(!0);i.useEffect(()=>{r()},[]);const r=()=>{v().then(t=>{h(t),t.length?o(t[0]):o()})},o=t=>{c(t??{...u,id:F()}),p(!t)},g=()=>{b(s).then(()=>{alert("Заметка сохранена!"),r()})},N=()=>{x(s.id).then(()=>{alert("Заметка удалена!"),r()})};return a(m,{children:[e(f,{title:"Заметки"}),a("div",{className:"row mt-3",children:[e("div",{className:"col-xxl-2 col-xl-3 col-lg-4 col-md-5 mb-3",children:a("div",{className:"list-group",children:[a("div",{style:{cursor:"pointer"},className:"list-group-item list-group-item-action text-success","aria-current":"true",onClick:()=>o(),children:[e(k,{className:"me-3"}),e("span",{className:"fw-bold text-uppercase",children:"Новая заметка"})]}),l&&l.map(t=>e("div",{style:{cursor:"pointer"},onClick:()=>o(t),className:`list-group-item list-group-item-action ${s.id===t.id?"active":""}`,children:t.title},t.id))]})}),e("div",{className:"col-xxl-10 col-xl-9 col-lg-8 col-md-7",children:e(C,{title:n?"Новая заметка":s.title,children:a(m,{children:[e(V,{label:"Заголовок",value:s.title,onValueChanged:t=>c(d=>({...d,title:t}))}),e(w,{label:"Сообщение",value:s.body,onValueChanged:t=>c(d=>({...d,body:t}))}),e("button",{className:"btn btn-primary",type:"button",onClick:g,disabled:s.title.length===0,children:n?"Добавить":"Сохранить"}),!n&&e("button",{className:"btn btn-danger ms-3",type:"button",onClick:N,children:"Удалить"})]})})})]})]})};export{P as default};
